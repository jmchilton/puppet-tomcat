# Address perm gen issues
JAVA_OPTS="$JAVA_OPTS -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=<%= tomcat_perm_size %>"

# Increase maximum heap size
JAVA_OPTS="$JAVA_OPTS -Xmx<%= tomcat_heap_size %>"

# Enable JMX
JAVA_OPTS="$JAVA_OPTS -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9011 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false"

<% if has_variable?('tomcat_temp_dir') %>
CATALINA_TMPDIR="<%= tomcat_temp_dir %>"
<% end %>

export JVM_TMP=/var/lib/tomcat6/tmp
